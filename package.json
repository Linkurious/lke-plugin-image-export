{
  "name": "@linkurious/image-export-plugin",
  "version": "0.1.0-alpha.2",
  "engines": {
    "node": "16.15.0",
    "npm": "8.5.5"
  },
  "files": [
    "backend/**/**.js",
    "public/**.js",
    "public/**.html",
    "public/assets/**",
    "dist/**/**.js",
    "manifest.json"
  ],
  "description": "A plugin to demo the Ogma Linkurious Parser",
  "main": "public/index.js",
  "author": "Andrea Fantaccione",
  "scripts": {
    "clean": "rm -rf dist *.tgz *.lke",
    "copy-assets": "mkdir -p dist/public && cp -R web/assets dist/public && cp web/index.html dist/public",
    "build:project": "npm-run-all build:manifest build:public build:backend",
    "build:manifest": "mkdir -p dist && envsub src/manifest.json dist/manifest.json",
    "build:public": "esbuild web/index.tsx --bundle --minify --outfile=dist/public/index-bundle.js --target=es6 --define:IS_DEV=false",
    "postbuild:public": "mv dist/public/index.js dist/public/index-bundle.js; npm run copy-assets",
    "build:backend": "esbuild backend/routeHandler.ts --outfile=dist/backend/routeHandler.js --bundle --platform=node",
    "build:dependencies": "cp package.json dist",
    "build:component": "typehead build",
    "build": "npm run build:project && npm run build:dependencies && npm pack ./dist && npm run repack",
    "repack": "gunzip -qf -c linkurious-image-export-plugin-$npm_package_version.tgz > lke-plugin-image-export.lke",
    "deploy": "cp lke-plugin-image-export.lke $(npm config get DEPLOY_PLUGIN_FOLDER)/lke-plugin-image-export-$npm_package_version.lke",
    "postdeploy": "npm run deploy:restart-plugins",
    "deploy:login": "curl -X POST $(npm config get DEPLOY_URL)/api/auth/login --cookie-jar 'lke.cookie' -H 'Content-type: application/json' -d '{ \"usernameOrEmail\": \"'$(npm config get DEPLOY_USER)'\", \"password\": \"'$(npm config get DEPLOY_PASS)'\" }'",
    "deploy:logout": "curl -X GET $(npm config get DEPLOY_URL)/api/auth/logout --cookie 'lke.cookie' -H 'Content-type: application/json' && rm lke.cookie",
    "deploy:restart-plugins": "npm run deploy:login && curl -X POST $(npm config get DEPLOY_URL)/api/admin/plugins/restart-all --cookie 'lke.cookie' && npm run deploy:logout",
    "build-deploy": "npm run build && npm run deploy",
    "check-env": "node -e 'console.log(process.env)' | grep npm",
    "start": "node scripts/mock-server.js & npm run serve",
    "serve": "preprod=true DEV=true typehead serve",
    "serve:web": "serve web",
    "build:web": "esbuild web/index.tsx --bundle --minify --outfile=web/index-bundle.js --define:IS_DEV=true",
    "types": "tsc --declaration --emitDeclarationOnly --outDir dist/types",
    "test": "jest",
    "pree2e:tests": "npm run build:web",
    "e2e:tests": "./scripts/e2e/index.js",
    "test:unit": "jest --ci --testResultsProcessor='jest-junit'",
    "lint": "eslint --ext .js,.ts --fix",
    "postversion": "sync_versions"
  },
  "devDependencies": {
    "@linkurious/code-tools": "0.0.8",
    "@mapbox/typehead": "^1.2.1",
    "@testomatio/reporter": "^0.5.10",
    "@types/body-parser": "^1.19.2",
    "@types/express": "^4.17.13",
    "@types/jest": "^27.5.0",
    "@types/node": "^17.0.32",
    "@types/react": "^17.0.2",
    "@types/react-dom": "^17.0.2",
    "@types/superagent": "^4.1.15",
    "@types/svgo": "^2.6.3",
    "@typescript-eslint/eslint-plugin": "^5.7.0",
    "@typescript-eslint/parser": "^5.7.0",
    "axios": "^0.27.2",
    "babel-cli": "^6.26.0",
    "babel-core": "^6.26.3",
    "babel-jest": "^28.1.0",
    "blink-diff": "^1.0.13",
    "codeceptjs": "^3.3.3",
    "envsub": "^4.0.7",
    "esbuild-plugin-replace": "^1.2.0",
    "eslint": "^8.4.1",
    "eslint-config-airbnb-base": "^15.0.0",
    "eslint-config-airbnb-typescript": "^16.1.0",
    "eslint-config-prettier": "^8.3.0",
    "eslint-import-resolver-typescript": "^2.5.0",
    "eslint-plugin-import": "^2.25.3",
    "eslint-plugin-markdown": "^2.2.1",
    "eslint-plugin-prettier": "^4.0.0",
    "jest": "^28.1.0",
    "jest-junit": "^13.2.0",
    "json-server": "^0.17.0",
    "mocha-multi-reporters": "^1.5.1",
    "mochawesome": "^7.1.3",
    "nanocolors": "^0.2.13",
    "npm-run-all": "^4.1.5",
    "playwright": "^1.22.2",
    "prettier": "^2.5.1",
    "recursive-copy": "^2.0.14",
    "resq": "^1.10.2",
    "serve": "^13.0.2",
    "sharp": "^0.30.7",
    "ts-jest": "^28.0.2",
    "ts-node": "^10.8.1",
    "typescript": "^4.6.4"
  },
  "dependencies": {
    "@ant-design/colors": "^6.0.0",
    "@ant-design/icons": "^4.7.0",
    "@linkurious/ogma": "^4.1.4-develop.31",
    "@linkurious/ogma-export-stitch": "^0.0.2",
    "@linkurious/ogma-linkurious-parser": "3.1.2-PR-214.2",
    "@linkurious/ogma-mini-map": "^0.0.22",
    "@linkurious/rest-client": "^3.1.2",
    "@linkurious/svg-font-embedder": "^0.0.28",
    "antd": "^4.20.6",
    "express-async-handler": "^1.2.0",
    "panzoom": "^9.4.3",
    "qs": "^6.10.5",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-zoom-pan-pinch": "^2.1.3",
    "svgo": "^2.8.0"
  },
  "bundleDependencies": [
    "@linkurious/rest-client",
    "express-async-handler"
  ],
  "jest": {
    "reporters": [
      "default",
      [
        "jest-junit",
        {
          "outputDirectory": "reports",
          "outputName": "junit-test-results.xml"
        }
      ]
    ]
  }
}
