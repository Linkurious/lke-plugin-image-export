{
  "name": "@linkurious/lke-plugin-image-export",
  "version": "2.0.5",
  "engines": {
    "node": "v18.15.0"
  },
  "files": [
    "backend/**/**.js",
    "public/**.js",
    "public/**.css",
    "public/**.html",
    "public/assets/**",
    "dist/**/**.js",
    "manifest.json"
  ],
  "description": "A plugin to demo the Ogma Linkurious Parser",
  "main": "public/index.js",
  "license": "Apache-2.0",
  "author": "Andrea Fantaccione",
  "scripts": {
    "clean": "rm -rf dist *.tgz *.lke",
    "copy-assets": "mkdir -p dist/public && cp -R web/assets dist/public",
    "build:project": "npm-run-all build:manifest build:public build:backend",
    "build:manifest": "mkdir -p dist && envsub src/manifest.json dist/manifest.json",
    "build:public": "vite build",
    "postbuild:public": "npm run copy-assets",
    "build:backend": "esbuild backend/routeHandler.ts --outfile=dist/backend/routeHandler.js --bundle --platform=node",
    "build:dependencies": "cp package.json dist",
    "build:component": "vite build",
    "build": "npm run build:project && npm run build:dependencies && npm pack ./dist && npm run repack",
    "repack": "mkdir -p tmp/github_release && gunzip -qf -c linkurious-lke-plugin-image-export-$npm_package_version.tgz > lke-plugin-image-export.lke && ln -sf $(pwd)/lke-plugin-image-export.lke $(pwd)/tmp/github_release/lke-plugin-image-export-v$(cat .version).lke",
    "manual-upload": "gh release create \"v$(cat .version)\" tmp/github_release/lke-plugin-image-export-v$(cat .version).lke",
    "deploy": "cp lke-plugin-image-export.lke $(npm config get DEPLOY_PLUGIN_FOLDER)/lke-plugin-image-export-$npm_package_version.lke",
    "postdeploy": "npm run deploy:restart-plugins",
    "deploy:login": "curl -X POST $(npm config get DEPLOY_URL)/api/auth/login --cookie-jar 'lke.cookie' -H 'Content-type: application/json' -d '{ \"usernameOrEmail\": \"'$(npm config get DEPLOY_USER)'\", \"password\": \"'$(npm config get DEPLOY_PASS)'\" }'",
    "deploy:logout": "curl -X GET $(npm config get DEPLOY_URL)/api/auth/logout --cookie 'lke.cookie' -H 'Content-type: application/json' && rm lke.cookie",
    "deploy:restart-plugins": "npm run deploy:login && curl -X POST $(npm config get DEPLOY_URL)/api/admin/plugins/restart-all --cookie 'lke.cookie' && npm run deploy:logout",
    "build-deploy": "npm run build && npm run deploy",
    "check-env": "node -e 'console.log(process.env)' | grep npm",
    "start": "node scripts/mock-server.js & DEV=true vite serve",
    "serve": "preprod=true DEV=true vite serve",
    "serve:web": "serve dist/public",
    "build:web": "DEV=true vite build",
    "types": "tsc --declaration --emitDeclarationOnly --outDir dist/types",
    "test": "jest",
    "pree2e:tests": "npm run build:web",
    "e2e:tests": "./scripts/e2e/index.js",
    "test:unit": "vitest run --coverage --reporter=junit --reporter=default --outputFile reports/unit/junit-test-results.xml",
    "lint": "eslint --ext .js,.ts --fix",
    "lint:ci": "eslint --ext .js,.ts",
    "bump:patch": "npm version --no-git-tag-version patch",
    "bump:minor": "npm version --no-git-tag-version minor",
    "bump:major": "npm version --no-git-tag-version major",
    "latest:develop": "npm install --save-exact @linkurious/rest-client@lk-develop @linkurious/ogma-linkurious-parser@lk-develop",
    "latest:develop-next": "npm install --save-exact @linkurious/rest-client@lk-develop-next @linkurious/ogma-linkurious-parser@lk-develop-next",
    "latest:develop-stable": "npm install --save-exact @linkurious/rest-client@lk-develop-stable @linkurious/ogma-linkurious-parser@lk-develop-stable",
    "latest:develop-maintenance": "npm install --save-exact @linkurious/rest-client@lk-develop-maintenance @linkurious/ogma-linkurious-parser@lk-develop-maintenance",
    "latest:master": "npm install --save-exact @linkurious/rest-client@lk-master-stable @linkurious/ogma-linkurious-parser@lk-master-stable",
    "latest:master-stable": "npm install --save-exact @linkurious/rest-client@lk-master-stable @linkurious/ogma-linkurious-parser@lk-master-stable",
    "latest:master-maintenance": "npm install --save-exact @linkurious/rest-client@lk-master-maintenance @linkurious/ogma-linkurious-parser@lk-master-maintenance",
    "postversion": "sync_versions"
  },
  "devDependencies": {
    "@linkurious/code-tools": "^0.0.14",
    "@testomatio/reporter": "^0.7.5",
    "@types/express": "^4.17.17",
    "@types/react": "^18.0.28",
    "@types/react-dom": "^18.0.11",
    "@vitejs/plugin-legacy": "^4.0.2",
    "@vitejs/plugin-react": "^3.1.0",
    "@vitest/coverage-c8": "^0.29.3",
    "blink-diff": "^1.0.13",
    "codeceptjs": "3.3.3",
    "envsub": "^4.1.0",
    "esbuild": "^0.17.12",
    "eslint": "^8.36.0",
    "json-server": "^0.17.2",
    "nanocolors": "^0.2.13",
    "npm": "^9.6.2",
    "npm-run-all": "^4.1.5",
    "playwright": "^1.31.2",
    "recursive-copy": "^2.0.14",
    "serve": "^14.2.0",
    "sharp": "^0.31.3",
    "terser": "^5.16.6",
    "ts-node": "10.8.1",
    "typescript": "^5.0.2",
    "vite": "^4.2.0",
    "vitest": "^0.29.3"
  },
  "bundleDependencies": [
    "@linkurious/rest-client",
    "express-async-handler"
  ],
  "dependencies": {
    "@ant-design/icons": "^5.0.1",
    "@linkurious/ogma-export-stitch": "^0.0.25",
    "@linkurious/ogma-linkurious-parser": "lk-develop",
    "@linkurious/ogma-mini-map": "^0.0.47",
    "@linkurious/rest-client": "^4.0.4-PR-590.4",
    "@linkurious/svg-font-embedder": "^0.0.52",
    "antd": "^5.3.2",
    "express": "^4.18.2",
    "jspdf": "^2.5.1",
    "panzoom": "^9.4.3",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "svg2pdf.js": "^2.2.1"
  }
}
