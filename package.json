{
  "name": "@linkurious/lke-plugin-image-export",
  "version": "2.1.20",
  "engines": {
    "node": "20.19.2"
  },
  "files": [
    "backend/**/**.js",
    "public/**.js",
    "public/**.css",
    "public/**.html",
    "public/assets/**",
    "dist/**/**.js",
    "manifest.json"
  ],
  "description": "A plugin to demo the Ogma Linkurious Parser",
  "main": "public/index.js",
  "license": "Apache-2.0",
  "author": "Andrea Fantaccione",
  "scripts": {
    "clean": "rm -rf dist *.tgz *.lke tmp",
    "build:project": "npm-run-all build:manifest build:public build:backend",
    "build:manifest": "mkdir -p dist && cp src/manifest.json dist/manifest.json",
    "build:backend": "esbuild backend/routeHandler.ts --outfile=dist/backend/routeHandler.js --bundle --platform=node",
    "build:dependencies": "cp package.json dist",
    "build:public": "vite build",
    "build:component": "vite build",
    "build": "npm run build:project && npm run build:dependencies && npm pack ./dist && npm run repack",
    "repack": "mkdir -p tmp/github_release && tar -xzf linkurious-lke-plugin-image-export-$npm_package_version.tgz -C tmp/github_release  && cp -f scripts/bundle-package.json tmp/github_release/package/package.json && tar -cf lke-plugin-image-export.lke -C tmp/github_release package && rm -rf tmp/github_release/package && ln -sf $(pwd)/lke-plugin-image-export.lke $(pwd)/tmp/github_release/lke-plugin-image-export-v$(cat .version).lke",
    "manual-upload": "gh release create \"v$(cat .version)\" tmp/github_release/lke-plugin-image-export-v$(cat .version).lke",
    "deploy": "cp lke-plugin-image-export.lke $(npm config get DEPLOY_PLUGIN_FOLDER)/lke-plugin-image-export-$npm_package_version.lke",
    "postdeploy": "npm run deploy:restart-plugins",
    "deploy:login": "curl -X POST $(npm config get DEPLOY_URL)/api/auth/login --cookie-jar 'lke.cookie' -H 'Content-type: application/json' -d '{ \"usernameOrEmail\": \"'$(npm config get DEPLOY_USER)'\", \"password\": \"'$(npm config get DEPLOY_PASS)'\" }'",
    "deploy:logout": "curl -X GET $(npm config get DEPLOY_URL)/api/auth/logout --cookie 'lke.cookie' -H 'Content-type: application/json' && rm lke.cookie",
    "deploy:restart-plugins": "npm run deploy:login && curl -X POST $(npm config get DEPLOY_URL)/api/admin/plugins/restart-all --cookie 'lke.cookie' && npm run deploy:logout",
    "build-deploy": "npm run build && npm run deploy",
    "check-env": "node -e 'console.log(process.env)' | grep npm",
    "start": "run-p mock-server dev",
    "dev": "DEV=true vite dev --force",
    "mock-server": "node scripts/mock-server.mjs",
    "serve": "preprod=true DEV=true vite serve",
    "serve:web": "serve dist/public",
    "build:web": "DEV=true vite build",
    "types": "tsc --declaration --emitDeclarationOnly --outDir dist/types ./src/index.ts",
    "test": "vitest run",
    "replace-refs": "./scripts/e2e/replace-images.sh",
    "test:unit": "vitest run --coverage --reporter=junit --reporter=default --outputFile reports/unit/junit-test-results.xml",
    "lint": "eslint --ext .js,.ts,.tsx --fix src",
    "lint:ci": "eslint --ext .js,.ts,.tsx src",
    "bump:patch": "bump2version patch && npm version --no-git-tag-version patch",
    "bump:minor": "bump2version minor && npm version --no-git-tag-version minor",
    "bump:major": "bump2version major && npm version --no-git-tag-version major",
    "latest:develop": "npm install --save-exact @linkurious/rest-client@lk-develop @linkurious/ogma-linkurious-parser@lk-develop",
    "latest:develop-next": "npm install --save-exact @linkurious/rest-client@lk-develop-next @linkurious/ogma-linkurious-parser@lk-develop-next",
    "latest:develop-stable": "npm install --save-exact @linkurious/rest-client@lk-develop-stable @linkurious/ogma-linkurious-parser@lk-develop-stable",
    "latest:develop-maintenance": "npm install --save-exact @linkurious/rest-client@lk-develop-maintenance @linkurious/ogma-linkurious-parser@lk-develop-maintenance",
    "latest:master": "npm install --save-exact @linkurious/rest-client@lk-master-stable @linkurious/ogma-linkurious-parser@lk-master-stable",
    "latest:master-stable": "npm install --save-exact @linkurious/rest-client@lk-master-stable @linkurious/ogma-linkurious-parser@lk-master-stable",
    "latest:master-maintenance": "npm install --save-exact @linkurious/rest-client@lk-master-maintenance @linkurious/ogma-linkurious-parser@lk-master-maintenance"
  },
  "devDependencies": {
    "@linkurious/code-tools": "0.0.14",
    "@testing-library/react": "^14.0.0",
    "@testomatio/reporter": "0.8.3",
    "@types/express": "4.17.21",
    "@types/react": "18.3.16",
    "@types/react-dom": "18.3.5",
    "@typescript-eslint/eslint-plugin": "^5.57.1",
    "@typescript-eslint/parser": "^5.57.1",
    "@vitejs/plugin-react": "^4.3.4",
    "@vitest/coverage-v8": "^2.1.8",
    "blink-diff": "^1.0.13",
    "canvas": "^2.11.2",
    "codeceptjs": "3.5.15",
    "eslint": "8.36.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "0.4.1",
    "json-server": "0.17.4",
    "mkdirp": "^3.0.0",
    "nanocolors": "0.2.13",
    "npm": "9.9.3",
    "npm-run-all2": "^5.0.0",
    "playwright": "1.51.0",
    "recursive-copy": "2.0.14",
    "serve": "14.2.4",
    "sharp": "^0.32.6",
    "terser": "5.37.0",
    "ts-node": "10.9.2",
    "typescript": "5.7.2",
    "vite": "4.5.5",
    "vitest": "^2.1.8",
    "xmldom-qsa": "^1.1.3-gamma"
  },
  "dependencies": {
    "@ant-design/colors": "6.0.0",
    "@ant-design/icons": "5.3.5",
    "@linkurious/ogma-annotations": "1.1.19",
    "@linkurious/ogma-export-stitch": "0.0.32",
    "@linkurious/ogma-linkurious-parser": "4.2.0",
    "@linkurious/ogma-mini-map": "0.0.79",
    "@linkurious/rest-client": "4.2.0",
    "@linkurious/svg-font-embedder": "0.0.76",
    "@mapbox/mapbox-gl-rtl-text": "0.2.3",
    "@uiw/color-convert": "^1.1.1",
    "@uiw/react-color-swatch": "1.4.3",
    "antd": "5.3.2",
    "express": "4.21.2",
    "express-async-handler": "1.2.0",
    "iconoir-react": "5.5.2",
    "jspdf": "3.0.1",
    "panzoom": "9.4.3",
    "qs": "6.14.0",
    "react": "18.3.1",
    "react-dom": "18.3.1",
    "svg2pdf.js": "2.5.0",
    "svgo": "2.8.0"
  },
  "bundleDependencies": [
    "@linkurious/rest-client",
    "express-async-handler"
  ],
  "overrides": {
    "@linkurious/ogma": "5.2.6"
  }
}
